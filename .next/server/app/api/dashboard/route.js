/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/dashboard/route";
exports.ids = ["app/api/dashboard/route"];
exports.modules = {

/***/ "(rsc)/./app/api/dashboard/route.ts":
/*!************************************!*\
  !*** ./app/api/dashboard/route.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db/index.ts\");\n/* harmony import */ var _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/db/schema */ \"(rsc)/./lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\n/* harmony import */ var _lib_date_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/date-utils */ \"(rsc)/./lib/date-utils.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_auth__WEBPACK_IMPORTED_MODULE_2__, _lib_db__WEBPACK_IMPORTED_MODULE_3__]);\n([_lib_auth__WEBPACK_IMPORTED_MODULE_2__, _lib_db__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_auth__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'No autorizado'\n            }, {\n                status: 401\n            });\n        }\n        // Obtener información de todos los períodos actuales\n        const currentWeek = (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentWeek)();\n        const currentMonth = (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentMonth)();\n        const currentQuarter = (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentQuarter)();\n        const currentBiannual = (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentBiannual)();\n        const currentYear = (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentYear)();\n        // Obtener todas las tareas del usuario\n        const userTasks = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.select({\n            id: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.id,\n            name: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.name,\n            description: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.description,\n            frequency: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.frequency,\n            areaId: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.areaId,\n            startDate: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.startDate,\n            weekOfMonth: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.weekOfMonth,\n            monthsArray: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.monthsArray,\n            createdAt: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.createdAt,\n            updatedAt: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.updatedAt,\n            areaName: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.areas.name,\n            areaColor: _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.areas.color\n        }).from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks).leftJoin(_lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.areas, (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.areaId, _lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.areas.id)).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.tasks.userId, session.user.id));\n        // Inicializar estructuras de datos\n        const tasksByFrequency = {\n            weekly: [],\n            monthly: [],\n            quarterly: [],\n            biannual: [],\n            annual: []\n        };\n        // Procesar cada tarea\n        for (const task of userTasks){\n            const periodKey = (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentPeriodKey)(task.frequency);\n            // Verificar si está completada en el período actual\n            const [completion] = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.select().from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.completions).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.and)((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.completions.taskId, task.id), (0,drizzle_orm__WEBPACK_IMPORTED_MODULE_6__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_4__.completions.period, periodKey)));\n            const taskWithCompletion = {\n                id: task.id,\n                name: task.name,\n                description: task.description || '',\n                isCompleted: !!completion,\n                completedAt: completion?.completedAt || null,\n                currentPeriod: periodKey,\n                area: task.areaName ? {\n                    name: task.areaName,\n                    color: task.areaColor\n                } : null\n            };\n            // Agregar a la frecuencia correspondiente\n            switch(task.frequency){\n                case 'WEEKLY':\n                    tasksByFrequency.weekly.push(taskWithCompletion);\n                    break;\n                case 'MONTHLY':\n                    tasksByFrequency.monthly.push(taskWithCompletion);\n                    break;\n                case 'QUARTERLY':\n                    tasksByFrequency.quarterly.push(taskWithCompletion);\n                    break;\n                case 'BIANNUAL':\n                    tasksByFrequency.biannual.push(taskWithCompletion);\n                    break;\n                case 'ANNUAL':\n                    tasksByFrequency.annual.push(taskWithCompletion);\n                    break;\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            periods: {\n                week: {\n                    ...currentWeek,\n                    weekKey: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentWeekKey)(),\n                    formatted: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.formatWeekRange)(currentWeek.start, currentWeek.end)\n                },\n                month: {\n                    ...currentMonth,\n                    monthKey: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentMonthKey)(),\n                    formatted: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.formatMonthRange)(currentMonth.start, currentMonth.end)\n                },\n                quarter: {\n                    ...currentQuarter,\n                    quarterKey: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentQuarterKey)(),\n                    formatted: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.formatQuarterRange)(currentQuarter.start, currentQuarter.end, currentQuarter.quarterNumber)\n                },\n                biannual: {\n                    ...currentBiannual,\n                    biannualKey: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentBiannualKey)(),\n                    formatted: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.formatBiannualRange)(currentBiannual.start, currentBiannual.end, currentBiannual.halfNumber)\n                },\n                year: {\n                    ...currentYear,\n                    yearKey: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.getCurrentYearKey)(),\n                    formatted: (0,_lib_date_utils__WEBPACK_IMPORTED_MODULE_5__.formatYearRange)(currentYear.start, currentYear.end)\n                }\n            },\n            tasks: tasksByFrequency,\n            summary: {\n                weekly: {\n                    total: tasksByFrequency.weekly.length,\n                    completed: tasksByFrequency.weekly.filter((t)=>t.isCompleted).length,\n                    pending: tasksByFrequency.weekly.filter((t)=>!t.isCompleted).length\n                },\n                monthly: {\n                    total: tasksByFrequency.monthly.length,\n                    completed: tasksByFrequency.monthly.filter((t)=>t.isCompleted).length,\n                    pending: tasksByFrequency.monthly.filter((t)=>!t.isCompleted).length\n                },\n                quarterly: {\n                    total: tasksByFrequency.quarterly.length,\n                    completed: tasksByFrequency.quarterly.filter((t)=>t.isCompleted).length,\n                    pending: tasksByFrequency.quarterly.filter((t)=>!t.isCompleted).length\n                },\n                biannual: {\n                    total: tasksByFrequency.biannual.length,\n                    completed: tasksByFrequency.biannual.filter((t)=>t.isCompleted).length,\n                    pending: tasksByFrequency.biannual.filter((t)=>!t.isCompleted).length\n                },\n                annual: {\n                    total: tasksByFrequency.annual.length,\n                    completed: tasksByFrequency.annual.filter((t)=>t.isCompleted).length,\n                    pending: tasksByFrequency.annual.filter((t)=>!t.isCompleted).length\n                }\n            }\n        });\n    } catch (error) {\n        console.error('Dashboard error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Error interno del servidor'\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVEsQ0FBQzhCLE1BQU07b0JBQ3ZDQyxXQUFXbkMsaUJBQWlCSSxRQUFRLENBQUNnQyxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUV6QixXQUFXLEVBQUVzQixNQUFNO29CQUN0RUksU0FBU3RDLGlCQUFpQkksUUFBUSxDQUFDZ0MsTUFBTSxDQUFDQyxDQUFBQSxJQUFLLENBQUNBLEVBQUV6QixXQUFXLEVBQUVzQixNQUFNO2dCQUN2RTtnQkFDQTdCLFFBQVE7b0JBQ040QixPQUFPakMsaUJBQWlCSyxNQUFNLENBQUM2QixNQUFNO29CQUNyQ0MsV0FBV25DLGlCQUFpQkssTUFBTSxDQUFDK0IsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFekIsV0FBVyxFQUFFc0IsTUFBTTtvQkFDcEVJLFNBQVN0QyxpQkFBaUJLLE1BQU0sQ0FBQytCLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBSyxDQUFDQSxFQUFFekIsV0FBVyxFQUFFc0IsTUFBTTtnQkFDckU7WUFDRjtRQUNGO0lBQ0YsRUFBRSxPQUFPM0QsT0FBTztRQUNkZ0UsUUFBUWhFLEtBQUssQ0FBQyxvQkFBb0JBO1FBQ2xDLE9BQU8vQixxREFBWUEsQ0FBQzhCLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUE2QixHQUN0QztZQUFFQyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvc2FudGlhZ28vcHJvamVjdHMvaG9tZXRhc2tzL2FwcC9hcGkvZGFzaGJvYXJkL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tICduZXh0LWF1dGgnXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGgnXG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvbGliL2RiJ1xuaW1wb3J0IHsgdGFza3MsIGNvbXBsZXRpb25zLCBhcmVhcyB9IGZyb20gJ0AvbGliL2RiL3NjaGVtYSdcbmltcG9ydCB7IGVxLCBhbmQgfSBmcm9tICdkcml6emxlLW9ybSdcbmltcG9ydCB7IFxuICBnZXRDdXJyZW50V2VlaywgZ2V0Q3VycmVudE1vbnRoLCBnZXRDdXJyZW50UXVhcnRlciwgZ2V0Q3VycmVudEJpYW5udWFsLCBnZXRDdXJyZW50WWVhcixcbiAgZ2V0Q3VycmVudFdlZWtLZXksIGdldEN1cnJlbnRNb250aEtleSwgZ2V0Q3VycmVudFF1YXJ0ZXJLZXksIGdldEN1cnJlbnRCaWFubnVhbEtleSwgZ2V0Q3VycmVudFllYXJLZXksXG4gIGZvcm1hdFdlZWtSYW5nZSwgZm9ybWF0TW9udGhSYW5nZSwgZm9ybWF0UXVhcnRlclJhbmdlLCBmb3JtYXRCaWFubnVhbFJhbmdlLCBmb3JtYXRZZWFyUmFuZ2UsXG4gIGdldEN1cnJlbnRQZXJpb2RLZXlcbn0gZnJvbSAnQC9saWIvZGF0ZS11dGlscydcblxuaW50ZXJmYWNlIFRhc2tEYXRhIHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZGVzY3JpcHRpb246IHN0cmluZ1xuICBpc0NvbXBsZXRlZDogYm9vbGVhblxuICBjb21wbGV0ZWRBdDogRGF0ZSB8IG51bGxcbiAgY3VycmVudFBlcmlvZDogc3RyaW5nXG4gIGFyZWE6IHtcbiAgICBuYW1lOiBzdHJpbmdcbiAgICBjb2xvcjogc3RyaW5nIHwgbnVsbFxuICB9IHwgbnVsbFxufVxuXG5pbnRlcmZhY2UgUGVyaW9kU3VtbWFyeSB7XG4gIHRvdGFsOiBudW1iZXJcbiAgY29tcGxldGVkOiBudW1iZXJcbiAgcGVuZGluZzogbnVtYmVyXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucylcbiAgICBcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ05vIGF1dG9yaXphZG8nIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICAvLyBPYnRlbmVyIGluZm9ybWFjacOzbiBkZSB0b2RvcyBsb3MgcGVyw61vZG9zIGFjdHVhbGVzXG4gICAgY29uc3QgY3VycmVudFdlZWsgPSBnZXRDdXJyZW50V2VlaygpXG4gICAgY29uc3QgY3VycmVudE1vbnRoID0gZ2V0Q3VycmVudE1vbnRoKClcbiAgICBjb25zdCBjdXJyZW50UXVhcnRlciA9IGdldEN1cnJlbnRRdWFydGVyKClcbiAgICBjb25zdCBjdXJyZW50Qmlhbm51YWwgPSBnZXRDdXJyZW50Qmlhbm51YWwoKVxuICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gZ2V0Q3VycmVudFllYXIoKVxuXG4gICAgLy8gT2J0ZW5lciB0b2RhcyBsYXMgdGFyZWFzIGRlbCB1c3VhcmlvXG4gICAgY29uc3QgdXNlclRhc2tzID0gYXdhaXQgZGJcbiAgICAgIC5zZWxlY3Qoe1xuICAgICAgICBpZDogdGFza3MuaWQsXG4gICAgICAgIG5hbWU6IHRhc2tzLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0YXNrcy5kZXNjcmlwdGlvbixcbiAgICAgICAgZnJlcXVlbmN5OiB0YXNrcy5mcmVxdWVuY3ksXG4gICAgICAgIGFyZWFJZDogdGFza3MuYXJlYUlkLFxuICAgICAgICBzdGFydERhdGU6IHRhc2tzLnN0YXJ0RGF0ZSxcbiAgICAgICAgd2Vla09mTW9udGg6IHRhc2tzLndlZWtPZk1vbnRoLFxuICAgICAgICBtb250aHNBcnJheTogdGFza3MubW9udGhzQXJyYXksXG4gICAgICAgIGNyZWF0ZWRBdDogdGFza3MuY3JlYXRlZEF0LFxuICAgICAgICB1cGRhdGVkQXQ6IHRhc2tzLnVwZGF0ZWRBdCxcbiAgICAgICAgYXJlYU5hbWU6IGFyZWFzLm5hbWUsXG4gICAgICAgIGFyZWFDb2xvcjogYXJlYXMuY29sb3IsXG4gICAgICB9KVxuICAgICAgLmZyb20odGFza3MpXG4gICAgICAubGVmdEpvaW4oYXJlYXMsIGVxKHRhc2tzLmFyZWFJZCwgYXJlYXMuaWQpKVxuICAgICAgLndoZXJlKGVxKHRhc2tzLnVzZXJJZCwgc2Vzc2lvbi51c2VyLmlkKSlcblxuICAgIC8vIEluaWNpYWxpemFyIGVzdHJ1Y3R1cmFzIGRlIGRhdG9zXG4gICAgY29uc3QgdGFza3NCeUZyZXF1ZW5jeToge1xuICAgICAgd2Vla2x5OiBUYXNrRGF0YVtdXG4gICAgICBtb250aGx5OiBUYXNrRGF0YVtdXG4gICAgICBxdWFydGVybHk6IFRhc2tEYXRhW11cbiAgICAgIGJpYW5udWFsOiBUYXNrRGF0YVtdXG4gICAgICBhbm51YWw6IFRhc2tEYXRhW11cbiAgICB9ID0ge1xuICAgICAgd2Vla2x5OiBbXSxcbiAgICAgIG1vbnRobHk6IFtdLFxuICAgICAgcXVhcnRlcmx5OiBbXSxcbiAgICAgIGJpYW5udWFsOiBbXSxcbiAgICAgIGFubnVhbDogW11cbiAgICB9XG5cbiAgICAvLyBQcm9jZXNhciBjYWRhIHRhcmVhXG4gICAgZm9yIChjb25zdCB0YXNrIG9mIHVzZXJUYXNrcykge1xuICAgICAgY29uc3QgcGVyaW9kS2V5ID0gZ2V0Q3VycmVudFBlcmlvZEtleSh0YXNrLmZyZXF1ZW5jeSBhcyBhbnkpXG4gICAgICBcbiAgICAgIC8vIFZlcmlmaWNhciBzaSBlc3TDoSBjb21wbGV0YWRhIGVuIGVsIHBlcsOtb2RvIGFjdHVhbFxuICAgICAgY29uc3QgW2NvbXBsZXRpb25dID0gYXdhaXQgZGJcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5mcm9tKGNvbXBsZXRpb25zKVxuICAgICAgICAud2hlcmUoYW5kKFxuICAgICAgICAgIGVxKGNvbXBsZXRpb25zLnRhc2tJZCwgdGFzay5pZCksXG4gICAgICAgICAgZXEoY29tcGxldGlvbnMucGVyaW9kLCBwZXJpb2RLZXkpXG4gICAgICAgICkpXG5cbiAgICAgIGNvbnN0IHRhc2tXaXRoQ29tcGxldGlvbjogVGFza0RhdGEgPSB7XG4gICAgICAgIGlkOiB0YXNrLmlkLFxuICAgICAgICBuYW1lOiB0YXNrLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiB0YXNrLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICBpc0NvbXBsZXRlZDogISFjb21wbGV0aW9uLFxuICAgICAgICBjb21wbGV0ZWRBdDogY29tcGxldGlvbj8uY29tcGxldGVkQXQgfHwgbnVsbCxcbiAgICAgICAgY3VycmVudFBlcmlvZDogcGVyaW9kS2V5LFxuICAgICAgICBhcmVhOiB0YXNrLmFyZWFOYW1lID8ge1xuICAgICAgICAgIG5hbWU6IHRhc2suYXJlYU5hbWUsXG4gICAgICAgICAgY29sb3I6IHRhc2suYXJlYUNvbG9yLFxuICAgICAgICB9IDogbnVsbCxcbiAgICAgIH1cblxuICAgICAgLy8gQWdyZWdhciBhIGxhIGZyZWN1ZW5jaWEgY29ycmVzcG9uZGllbnRlXG4gICAgICBzd2l0Y2ggKHRhc2suZnJlcXVlbmN5KSB7XG4gICAgICAgIGNhc2UgJ1dFRUtMWSc6XG4gICAgICAgICAgdGFza3NCeUZyZXF1ZW5jeS53ZWVrbHkucHVzaCh0YXNrV2l0aENvbXBsZXRpb24pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnTU9OVEhMWSc6XG4gICAgICAgICAgdGFza3NCeUZyZXF1ZW5jeS5tb250aGx5LnB1c2godGFza1dpdGhDb21wbGV0aW9uKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ1FVQVJURVJMWSc6XG4gICAgICAgICAgdGFza3NCeUZyZXF1ZW5jeS5xdWFydGVybHkucHVzaCh0YXNrV2l0aENvbXBsZXRpb24pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnQklBTk5VQUwnOlxuICAgICAgICAgIHRhc2tzQnlGcmVxdWVuY3kuYmlhbm51YWwucHVzaCh0YXNrV2l0aENvbXBsZXRpb24pXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnQU5OVUFMJzpcbiAgICAgICAgICB0YXNrc0J5RnJlcXVlbmN5LmFubnVhbC5wdXNoKHRhc2tXaXRoQ29tcGxldGlvbilcbiAgICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBwZXJpb2RzOiB7XG4gICAgICAgIHdlZWs6IHtcbiAgICAgICAgICAuLi5jdXJyZW50V2VlayxcbiAgICAgICAgICB3ZWVrS2V5OiBnZXRDdXJyZW50V2Vla0tleSgpLFxuICAgICAgICAgIGZvcm1hdHRlZDogZm9ybWF0V2Vla1JhbmdlKGN1cnJlbnRXZWVrLnN0YXJ0LCBjdXJyZW50V2Vlay5lbmQpLFxuICAgICAgICB9LFxuICAgICAgICBtb250aDoge1xuICAgICAgICAgIC4uLmN1cnJlbnRNb250aCxcbiAgICAgICAgICBtb250aEtleTogZ2V0Q3VycmVudE1vbnRoS2V5KCksXG4gICAgICAgICAgZm9ybWF0dGVkOiBmb3JtYXRNb250aFJhbmdlKGN1cnJlbnRNb250aC5zdGFydCwgY3VycmVudE1vbnRoLmVuZCksXG4gICAgICAgIH0sXG4gICAgICAgIHF1YXJ0ZXI6IHtcbiAgICAgICAgICAuLi5jdXJyZW50UXVhcnRlcixcbiAgICAgICAgICBxdWFydGVyS2V5OiBnZXRDdXJyZW50UXVhcnRlcktleSgpLFxuICAgICAgICAgIGZvcm1hdHRlZDogZm9ybWF0UXVhcnRlclJhbmdlKGN1cnJlbnRRdWFydGVyLnN0YXJ0LCBjdXJyZW50UXVhcnRlci5lbmQsIGN1cnJlbnRRdWFydGVyLnF1YXJ0ZXJOdW1iZXIpLFxuICAgICAgICB9LFxuICAgICAgICBiaWFubnVhbDoge1xuICAgICAgICAgIC4uLmN1cnJlbnRCaWFubnVhbCxcbiAgICAgICAgICBiaWFubnVhbEtleTogZ2V0Q3VycmVudEJpYW5udWFsS2V5KCksXG4gICAgICAgICAgZm9ybWF0dGVkOiBmb3JtYXRCaWFubnVhbFJhbmdlKGN1cnJlbnRCaWFubnVhbC5zdGFydCwgY3VycmVudEJpYW5udWFsLmVuZCwgY3VycmVudEJpYW5udWFsLmhhbGZOdW1iZXIpLFxuICAgICAgICB9LFxuICAgICAgICB5ZWFyOiB7XG4gICAgICAgICAgLi4uY3VycmVudFllYXIsXG4gICAgICAgICAgeWVhcktleTogZ2V0Q3VycmVudFllYXJLZXkoKSxcbiAgICAgICAgICBmb3JtYXR0ZWQ6IGZvcm1hdFllYXJSYW5nZShjdXJyZW50WWVhci5zdGFydCwgY3VycmVudFllYXIuZW5kKSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICB0YXNrczogdGFza3NCeUZyZXF1ZW5jeSxcbiAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgd2Vla2x5OiB7XG4gICAgICAgICAgdG90YWw6IHRhc2tzQnlGcmVxdWVuY3kud2Vla2x5Lmxlbmd0aCxcbiAgICAgICAgICBjb21wbGV0ZWQ6IHRhc2tzQnlGcmVxdWVuY3kud2Vla2x5LmZpbHRlcih0ID0+IHQuaXNDb21wbGV0ZWQpLmxlbmd0aCxcbiAgICAgICAgICBwZW5kaW5nOiB0YXNrc0J5RnJlcXVlbmN5LndlZWtseS5maWx0ZXIodCA9PiAhdC5pc0NvbXBsZXRlZCkubGVuZ3RoLFxuICAgICAgICB9LFxuICAgICAgICBtb250aGx5OiB7XG4gICAgICAgICAgdG90YWw6IHRhc2tzQnlGcmVxdWVuY3kubW9udGhseS5sZW5ndGgsXG4gICAgICAgICAgY29tcGxldGVkOiB0YXNrc0J5RnJlcXVlbmN5Lm1vbnRobHkuZmlsdGVyKHQgPT4gdC5pc0NvbXBsZXRlZCkubGVuZ3RoLFxuICAgICAgICAgIHBlbmRpbmc6IHRhc2tzQnlGcmVxdWVuY3kubW9udGhseS5maWx0ZXIodCA9PiAhdC5pc0NvbXBsZXRlZCkubGVuZ3RoLFxuICAgICAgICB9LFxuICAgICAgICBxdWFydGVybHk6IHtcbiAgICAgICAgICB0b3RhbDogdGFza3NCeUZyZXF1ZW5jeS5xdWFydGVybHkubGVuZ3RoLFxuICAgICAgICAgIGNvbXBsZXRlZDogdGFza3NCeUZyZXF1ZW5jeS5xdWFydGVybHkuZmlsdGVyKHQgPT4gdC5pc0NvbXBsZXRlZCkubGVuZ3RoLFxuICAgICAgICAgIHBlbmRpbmc6IHRhc2tzQnlGcmVxdWVuY3kucXVhcnRlcmx5LmZpbHRlcih0ID0+ICF0LmlzQ29tcGxldGVkKS5sZW5ndGgsXG4gICAgICAgIH0sXG4gICAgICAgIGJpYW5udWFsOiB7XG4gICAgICAgICAgdG90YWw6IHRhc2tzQnlGcmVxdWVuY3kuYmlhbm51YWwubGVuZ3RoLFxuICAgICAgICAgIGNvbXBsZXRlZDogdGFza3NCeUZyZXF1ZW5jeS5iaWFubnVhbC5maWx0ZXIodCA9PiB0LmlzQ29tcGxldGVkKS5sZW5ndGgsXG4gICAgICAgICAgcGVuZGluZzogdGFza3NCeUZyZXF1ZW5jeS5iaWFubnVhbC5maWx0ZXIodCA9PiAhdC5pc0NvbXBsZXRlZCkubGVuZ3RoLFxuICAgICAgICB9LFxuICAgICAgICBhbm51YWw6IHtcbiAgICAgICAgICB0b3RhbDogdGFza3NCeUZyZXF1ZW5jeS5hbm51YWwubGVuZ3RoLFxuICAgICAgICAgIGNvbXBsZXRlZDogdGFza3NCeUZyZXF1ZW5jeS5hbm51YWwuZmlsdGVyKHQgPT4gdC5pc0NvbXBsZXRlZCkubGVuZ3RoLFxuICAgICAgICAgIHBlbmRpbmc6IHRhc2tzQnlGcmVxdWVuY3kuYW5udWFsLmZpbHRlcih0ID0+ICF0LmlzQ29tcGxldGVkKS5sZW5ndGgsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdEYXNoYm9hcmQgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0Vycm9yIGludGVybm8gZGVsIHNlcnZpZG9yJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsImRiIiwidGFza3MiLCJjb21wbGV0aW9ucyIsImFyZWFzIiwiZXEiLCJhbmQiLCJnZXRDdXJyZW50V2VlayIsImdldEN1cnJlbnRNb250aCIsImdldEN1cnJlbnRRdWFydGVyIiwiZ2V0Q3VycmVudEJpYW5udWFsIiwiZ2V0Q3VycmVudFllYXIiLCJnZXRDdXJyZW50V2Vla0tleSIsImdldEN1cnJlbnRNb250aEtleSIsImdldEN1cnJlbnRRdWFydGVyS2V5IiwiZ2V0Q3VycmVudEJpYW5udWFsS2V5IiwiZ2V0Q3VycmVudFllYXJLZXkiLCJmb3JtYXRXZWVrUmFuZ2UiLCJmb3JtYXRNb250aFJhbmdlIiwiZm9ybWF0UXVhcnRlclJhbmdlIiwiZm9ybWF0Qmlhbm51YWxSYW5nZSIsImZvcm1hdFllYXJSYW5nZSIsImdldEN1cnJlbnRQZXJpb2RLZXkiLCJHRVQiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsInVzZXIiLCJpZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsImN1cnJlbnRXZWVrIiwiY3VycmVudE1vbnRoIiwiY3VycmVudFF1YXJ0ZXIiLCJjdXJyZW50Qmlhbm51YWwiLCJjdXJyZW50WWVhciIsInVzZXJUYXNrcyIsInNlbGVjdCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsImZyZXF1ZW5jeSIsImFyZWFJZCIsInN0YXJ0RGF0ZSIsIndlZWtPZk1vbnRoIiwibW9udGhzQXJyYXkiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJhcmVhTmFtZSIsImFyZWFDb2xvciIsImNvbG9yIiwiZnJvbSIsImxlZnRKb2luIiwid2hlcmUiLCJ1c2VySWQiLCJ0YXNrc0J5RnJlcXVlbmN5Iiwid2Vla2x5IiwibW9udGhseSIsInF1YXJ0ZXJseSIsImJpYW5udWFsIiwiYW5udWFsIiwidGFzayIsInBlcmlvZEtleSIsImNvbXBsZXRpb24iLCJ0YXNrSWQiLCJwZXJpb2QiLCJ0YXNrV2l0aENvbXBsZXRpb24iLCJpc0NvbXBsZXRlZCIsImNvbXBsZXRlZEF0IiwiY3VycmVudFBlcmlvZCIsImFyZWEiLCJwdXNoIiwicGVyaW9kcyIsIndlZWsiLCJ3ZWVrS2V5IiwiZm9ybWF0dGVkIiwic3RhcnQiLCJlbmQiLCJtb250aCIsIm1vbnRoS2V5IiwicXVhcnRlciIsInF1YXJ0ZXJLZXkiLCJxdWFydGVyTnVtYmVyIiwiYmlhbm51YWxLZXkiLCJoYWxmTnVtYmVyIiwieWVhciIsInllYXJLZXkiLCJzdW1tYXJ5IiwidG90YWwiLCJsZW5ndGgiLCJjb21wbGV0ZWQiLCJmaWx0ZXIiLCJ0IiwicGVuZGluZyIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/dashboard/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db/index.ts\");\n/* harmony import */ var _lib_db_schema__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db/schema */ \"(rsc)/./lib/db/schema.ts\");\n/* harmony import */ var drizzle_orm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! drizzle-orm */ \"(rsc)/./node_modules/drizzle-orm/sql/expressions/conditions.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_db__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_db__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nconst authOptions = {\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            name: 'credentials',\n            credentials: {\n                email: {\n                    label: 'Email',\n                    type: 'email'\n                },\n                password: {\n                    label: 'Password',\n                    type: 'password'\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    return null;\n                }\n                try {\n                    const user = await _lib_db__WEBPACK_IMPORTED_MODULE_2__.db.select().from(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.users).where((0,drizzle_orm__WEBPACK_IMPORTED_MODULE_4__.eq)(_lib_db_schema__WEBPACK_IMPORTED_MODULE_3__.users.email, credentials.email)).limit(1);\n                    if (!user[0]) {\n                        return null;\n                    }\n                    const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_1___default().compare(credentials.password, user[0].passwordHash);\n                    if (!isPasswordValid) {\n                        return null;\n                    }\n                    return {\n                        id: user[0].id,\n                        email: user[0].email,\n                        name: user[0].name || undefined\n                    };\n                } catch (error) {\n                    console.error('Auth error:', error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: 'jwt'\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.id;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/login'\n    },\n    secret: process.env.NEXTAUTH_SECRET\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ2tFO0FBQ3BDO0FBQ0E7QUFDVTtBQUNQO0FBRTFCLE1BQU1LLGNBQStCO0lBQzFDQyxXQUFXO1FBQ1ROLDJFQUFtQkEsQ0FBQztZQUNsQk8sTUFBTTtZQUNOQyxhQUFhO2dCQUNYQyxPQUFPO29CQUFFQyxPQUFPO29CQUFTQyxNQUFNO2dCQUFRO2dCQUN2Q0MsVUFBVTtvQkFBRUYsT0FBTztvQkFBWUMsTUFBTTtnQkFBVztZQUNsRDtZQUNBLE1BQU1FLFdBQVVMLFdBQVc7Z0JBQ3pCLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSSxVQUFVO29CQUNqRCxPQUFPO2dCQUNUO2dCQUVBLElBQUk7b0JBQ0YsTUFBTUUsT0FBTyxNQUFNWix1Q0FBRUEsQ0FDbEJhLE1BQU0sR0FDTkMsSUFBSSxDQUFDYixpREFBS0EsRUFDVmMsS0FBSyxDQUFDYiwrQ0FBRUEsQ0FBQ0QsaURBQUtBLENBQUNNLEtBQUssRUFBRUQsWUFBWUMsS0FBSyxHQUN2Q1MsS0FBSyxDQUFDO29CQUVULElBQUksQ0FBQ0osSUFBSSxDQUFDLEVBQUUsRUFBRTt3QkFDWixPQUFPO29CQUNUO29CQUVBLE1BQU1LLGtCQUFrQixNQUFNbEIsdURBQWMsQ0FDMUNPLFlBQVlJLFFBQVEsRUFDcEJFLElBQUksQ0FBQyxFQUFFLENBQUNPLFlBQVk7b0JBR3RCLElBQUksQ0FBQ0YsaUJBQWlCO3dCQUNwQixPQUFPO29CQUNUO29CQUVBLE9BQU87d0JBQ0xHLElBQUlSLElBQUksQ0FBQyxFQUFFLENBQUNRLEVBQUU7d0JBQ2RiLE9BQU9LLElBQUksQ0FBQyxFQUFFLENBQUNMLEtBQUs7d0JBQ3BCRixNQUFNTyxJQUFJLENBQUMsRUFBRSxDQUFDUCxJQUFJLElBQUlnQjtvQkFDeEI7Z0JBQ0YsRUFBRSxPQUFPQyxPQUFPO29CQUNkQyxRQUFRRCxLQUFLLENBQUMsZUFBZUE7b0JBQzdCLE9BQU87Z0JBQ1Q7WUFDRjtRQUNGO0tBQ0Q7SUFDREUsU0FBUztRQUNQQyxVQUFVO0lBQ1o7SUFDQUMsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFaEIsSUFBSSxFQUFFO1lBQ3ZCLElBQUlBLE1BQU07Z0JBQ1JnQixNQUFNUixFQUFFLEdBQUdSLEtBQUtRLEVBQUU7WUFDcEI7WUFDQSxPQUFPUTtRQUNUO1FBQ0EsTUFBTUosU0FBUSxFQUFFQSxPQUFPLEVBQUVJLEtBQUssRUFBRTtZQUM5QixJQUFJQSxTQUFTSixRQUFRWixJQUFJLEVBQUU7Z0JBQ3pCWSxRQUFRWixJQUFJLENBQUNRLEVBQUUsR0FBR1EsTUFBTVIsRUFBRTtZQUM1QjtZQUNBLE9BQU9JO1FBQ1Q7SUFDRjtJQUNBSyxPQUFPO1FBQ0xDLFFBQVE7SUFDVjtJQUNBQyxRQUFRQyxRQUFRQyxHQUFHLENBQUNDLGVBQWU7QUFDckMsRUFBRSIsInNvdXJjZXMiOlsiL2hvbWUvc2FudGlhZ28vcHJvamVjdHMvaG9tZXRhc2tzL2xpYi9hdXRoLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IHsgZGIgfSBmcm9tICdAL2xpYi9kYic7XG5pbXBvcnQgeyB1c2VycyB9IGZyb20gJ0AvbGliL2RiL3NjaGVtYSc7XG5pbXBvcnQgeyBlcSB9IGZyb20gJ2RyaXp6bGUtb3JtJztcblxuZXhwb3J0IGNvbnN0IGF1dGhPcHRpb25zOiBOZXh0QXV0aE9wdGlvbnMgPSB7XG4gIHByb3ZpZGVyczogW1xuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xuICAgICAgbmFtZTogJ2NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiAnRW1haWwnLCB0eXBlOiAnZW1haWwnIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiAnUGFzc3dvcmQnLCB0eXBlOiAncGFzc3dvcmQnIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgaWYgKCFjcmVkZW50aWFscz8uZW1haWwgfHwgIWNyZWRlbnRpYWxzPy5wYXNzd29yZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGJcbiAgICAgICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAgICAgLmZyb20odXNlcnMpXG4gICAgICAgICAgICAud2hlcmUoZXEodXNlcnMuZW1haWwsIGNyZWRlbnRpYWxzLmVtYWlsKSlcbiAgICAgICAgICAgIC5saW1pdCgxKTtcblxuICAgICAgICAgIGlmICghdXNlclswXSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoXG4gICAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCxcbiAgICAgICAgICAgIHVzZXJbMF0ucGFzc3dvcmRIYXNoXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHVzZXJbMF0uaWQsXG4gICAgICAgICAgICBlbWFpbDogdXNlclswXS5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXJbMF0ubmFtZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gIF0sXG4gIHNlc3Npb246IHtcbiAgICBzdHJhdGVneTogJ2p3dCdcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgand0KHsgdG9rZW4sIHVzZXIgfSkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdG9rZW4uaWQgPSB1c2VyLmlkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfVxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9sb2dpbicsXG4gIH0sXG4gIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVULFxufTtcbiJdLCJuYW1lcyI6WyJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiYmNyeXB0IiwiZGIiLCJ1c2VycyIsImVxIiwiYXV0aE9wdGlvbnMiLCJwcm92aWRlcnMiLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwidXNlciIsInNlbGVjdCIsImZyb20iLCJ3aGVyZSIsImxpbWl0IiwiaXNQYXNzd29yZFZhbGlkIiwiY29tcGFyZSIsInBhc3N3b3JkSGFzaCIsImlkIiwidW5kZWZpbmVkIiwiZXJyb3IiLCJjb25zb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwiY2FsbGJhY2tzIiwiand0IiwidG9rZW4iLCJwYWdlcyIsInNpZ25JbiIsInNlY3JldCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9TRUNSRVQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/date-utils.ts":
/*!***************************!*\
  !*** ./lib/date-utils.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateNextDueDate: () => (/* binding */ calculateNextDueDate),\n/* harmony export */   formatBiannualRange: () => (/* binding */ formatBiannualRange),\n/* harmony export */   formatFrequency: () => (/* binding */ formatFrequency),\n/* harmony export */   formatMonthRange: () => (/* binding */ formatMonthRange),\n/* harmony export */   formatQuarterRange: () => (/* binding */ formatQuarterRange),\n/* harmony export */   formatWeekRange: () => (/* binding */ formatWeekRange),\n/* harmony export */   formatYearRange: () => (/* binding */ formatYearRange),\n/* harmony export */   generatePeriodKey: () => (/* binding */ generatePeriodKey),\n/* harmony export */   getCurrentBiannual: () => (/* binding */ getCurrentBiannual),\n/* harmony export */   getCurrentBiannualKey: () => (/* binding */ getCurrentBiannualKey),\n/* harmony export */   getCurrentMonth: () => (/* binding */ getCurrentMonth),\n/* harmony export */   getCurrentMonthKey: () => (/* binding */ getCurrentMonthKey),\n/* harmony export */   getCurrentPeriod: () => (/* binding */ getCurrentPeriod),\n/* harmony export */   getCurrentPeriodKey: () => (/* binding */ getCurrentPeriodKey),\n/* harmony export */   getCurrentQuarter: () => (/* binding */ getCurrentQuarter),\n/* harmony export */   getCurrentQuarterKey: () => (/* binding */ getCurrentQuarterKey),\n/* harmony export */   getCurrentWeek: () => (/* binding */ getCurrentWeek),\n/* harmony export */   getCurrentWeekKey: () => (/* binding */ getCurrentWeekKey),\n/* harmony export */   getCurrentYear: () => (/* binding */ getCurrentYear),\n/* harmony export */   getCurrentYearKey: () => (/* binding */ getCurrentYearKey),\n/* harmony export */   isCurrentWeek: () => (/* binding */ isCurrentWeek)\n/* harmony export */ });\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/startOfWeek.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/endOfWeek.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/getWeek.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/startOfMonth.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/endOfMonth.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/startOfQuarter.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/endOfQuarter.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/startOfYear.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/endOfYear.mjs\");\n/* harmony import */ var _barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=endOfMonth,endOfQuarter,endOfWeek,endOfYear,format,getWeek,startOfMonth,startOfQuarter,startOfWeek,startOfYear!=!date-fns */ \"(rsc)/./node_modules/date-fns/format.mjs\");\n/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! date-fns/locale */ \"(rsc)/./node_modules/date-fns/locale/es.mjs\");\n\n\n// Funciones para manejo de períodos actuales\nfunction getCurrentWeek() {\n    const now = new Date();\n    const start = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_0__.startOfWeek)(now, {\n        weekStartsOn: 1\n    }); // Lunes como primer día\n    const end = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_1__.endOfWeek)(now, {\n        weekStartsOn: 1\n    }); // Domingo como último día\n    const weekNumber = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_2__.getWeek)(now, {\n        weekStartsOn: 1\n    });\n    const year = now.getFullYear();\n    return {\n        start,\n        end,\n        weekNumber,\n        year\n    };\n}\nfunction getCurrentMonth() {\n    const now = new Date();\n    const start = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_3__.startOfMonth)(now);\n    const end = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_4__.endOfMonth)(now);\n    const monthNumber = now.getMonth() + 1;\n    const year = now.getFullYear();\n    return {\n        start,\n        end,\n        monthNumber,\n        year\n    };\n}\nfunction getCurrentQuarter() {\n    const now = new Date();\n    const start = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_5__.startOfQuarter)(now);\n    const end = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_6__.endOfQuarter)(now);\n    const quarterNumber = Math.floor(now.getMonth() / 3) + 1;\n    const year = now.getFullYear();\n    return {\n        start,\n        end,\n        quarterNumber,\n        year\n    };\n}\nfunction getCurrentBiannual() {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = now.getMonth();\n    const halfNumber = month < 6 ? 1 : 2;\n    const start = new Date(year, halfNumber === 1 ? 0 : 6, 1);\n    const end = new Date(year, halfNumber === 1 ? 5 : 11, halfNumber === 1 ? 30 : 31);\n    return {\n        start,\n        end,\n        halfNumber,\n        year\n    };\n}\nfunction getCurrentYear() {\n    const now = new Date();\n    const year = now.getFullYear();\n    const start = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_7__.startOfYear)(now);\n    const end = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_8__.endOfYear)(now);\n    return {\n        start,\n        end,\n        year\n    };\n}\n// Funciones para generar claves de período\nfunction getCurrentWeekKey() {\n    const { year, weekNumber } = getCurrentWeek();\n    return `${year}-W${weekNumber.toString().padStart(2, '0')}`;\n}\nfunction getCurrentMonthKey() {\n    const { year, monthNumber } = getCurrentMonth();\n    return `${year}-${monthNumber.toString().padStart(2, '0')}`;\n}\nfunction getCurrentQuarterKey() {\n    const { year, quarterNumber } = getCurrentQuarter();\n    return `${year}-Q${quarterNumber}`;\n}\nfunction getCurrentBiannualKey() {\n    const { year, halfNumber } = getCurrentBiannual();\n    return `${year}-H${halfNumber}`;\n}\nfunction getCurrentYearKey() {\n    const { year } = getCurrentYear();\n    return `${year}`;\n}\n// Función universal para obtener clave de período según frecuencia\nfunction getCurrentPeriodKey(frequency) {\n    switch(frequency){\n        case 'WEEKLY':\n            return getCurrentWeekKey();\n        case 'MONTHLY':\n            return getCurrentMonthKey();\n        case 'QUARTERLY':\n            return getCurrentQuarterKey();\n        case 'BIANNUAL':\n            return getCurrentBiannualKey();\n        case 'ANNUAL':\n            return getCurrentYearKey();\n        default:\n            return getCurrentWeekKey();\n    }\n}\n// Funciones para formatear períodos\nfunction formatWeekRange(start, end) {\n    return `${(0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_9__.format)(start, 'dd MMM', {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_10__.es\n    })} - ${(0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_9__.format)(end, 'dd MMM yyyy', {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_10__.es\n    })}`;\n}\nfunction formatMonthRange(start, end) {\n    return (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_9__.format)(start, 'MMMM yyyy', {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_10__.es\n    });\n}\nfunction formatQuarterRange(start, end, quarter) {\n    return `${quarter}° Trimestre ${(0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_9__.format)(start, 'yyyy', {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_10__.es\n    })}`;\n}\nfunction formatBiannualRange(start, end, half) {\n    return `${half}° Semestre ${(0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_9__.format)(start, 'yyyy', {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_10__.es\n    })}`;\n}\nfunction formatYearRange(start, end) {\n    return (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_9__.format)(start, 'yyyy', {\n        locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_10__.es\n    });\n}\nfunction isCurrentWeek(date) {\n    const { start, end } = getCurrentWeek();\n    return date >= start && date <= end;\n}\nfunction calculateNextDueDate(task, currentDate = new Date()) {\n    const { frequency, startDate, weekOfMonth, monthsArray } = task;\n    switch(frequency){\n        case 'WEEKLY':\n            // Cada 7 días desde startDate\n            const weeksDiff = Math.floor((currentDate.getTime() - startDate.getTime()) / (7 * 24 * 60 * 60 * 1000));\n            return new Date(startDate.getTime() + (weeksDiff + 1) * 7 * 24 * 60 * 60 * 1000);\n        case 'MONTHLY':\n            // Semana específica del mes\n            return calculateMonthlyDate(currentDate, weekOfMonth || 1);\n        case 'QUARTERLY':\n        case 'BIANNUAL':\n        case 'ANNUAL':\n            // Usar monthsArray para determinar meses específicos\n            const months = JSON.parse(monthsArray || '[]');\n            return calculatePeriodicDate(currentDate, months, frequency);\n        default:\n            return new Date();\n    }\n}\nfunction generatePeriodKey(date, frequency) {\n    const year = date.getFullYear();\n    switch(frequency){\n        case 'WEEKLY':\n            const week = (0,_barrel_optimize_names_endOfMonth_endOfQuarter_endOfWeek_endOfYear_format_getWeek_startOfMonth_startOfQuarter_startOfWeek_startOfYear_date_fns__WEBPACK_IMPORTED_MODULE_2__.getWeek)(date);\n            return `${year}-W${week.toString().padStart(2, '0')}`;\n        case 'MONTHLY':\n            const month = date.getMonth() + 1;\n            return `${year}-${month.toString().padStart(2, '0')}`;\n        case 'QUARTERLY':\n            const quarter = Math.floor(date.getMonth() / 3) + 1;\n            return `${year}-Q${quarter}`;\n        case 'BIANNUAL':\n            const half = date.getMonth() < 6 ? 1 : 2;\n            return `${year}-H${half}`;\n        case 'ANNUAL':\n            return `${year}`;\n        default:\n            return `${year}`;\n    }\n}\nfunction calculateMonthlyDate(currentDate, weekOfMonth) {\n    const year = currentDate.getFullYear();\n    const month = currentDate.getMonth();\n    // Primer día del mes\n    const firstDay = new Date(year, month, 1);\n    // Encontrar el primer lunes del mes\n    const firstMonday = new Date(firstDay);\n    const dayOfWeek = firstDay.getDay();\n    const daysToAdd = dayOfWeek === 0 ? 1 : 8 - dayOfWeek;\n    firstMonday.setDate(firstDay.getDate() + daysToAdd);\n    // Agregar semanas según weekOfMonth\n    const targetDate = new Date(firstMonday);\n    targetDate.setDate(firstMonday.getDate() + (weekOfMonth - 1) * 7);\n    return targetDate;\n}\nfunction calculatePeriodicDate(currentDate, months, frequency) {\n    const year = currentDate.getFullYear();\n    const currentMonth = currentDate.getMonth() + 1;\n    // Encontrar el próximo mes válido\n    let nextMonth = months.find((m)=>m > currentMonth);\n    let nextYear = year;\n    if (!nextMonth) {\n        nextMonth = months[0];\n        nextYear = year + 1;\n    }\n    return new Date(nextYear, nextMonth - 1, 1);\n}\nfunction getCurrentPeriod(frequency, date = new Date()) {\n    return generatePeriodKey(date, frequency);\n}\nfunction formatFrequency(frequency) {\n    const map = {\n        WEEKLY: 'Semanal',\n        MONTHLY: 'Mensual',\n        QUARTERLY: 'Trimestral',\n        BIANNUAL: 'Semestral',\n        ANNUAL: 'Anual'\n    };\n    return map[frequency];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFFOUMsa0NBQWtDO0lBQ2xDLElBQUlvRCxZQUFZZixPQUFPZ0IsSUFBSSxDQUFDQyxDQUFBQSxJQUFLQSxJQUFJSDtJQUNyQyxJQUFJSSxXQUFXM0Q7SUFFZixJQUFJLENBQUN3RCxXQUFXO1FBQ2RBLFlBQVlmLE1BQU0sQ0FBQyxFQUFFO1FBQ3JCa0IsV0FBVzNELE9BQU87SUFDcEI7SUFFQSxPQUFPLElBQUlMLEtBQUtnRSxVQUFVSCxZQUFZLEdBQUc7QUFDM0M7QUFFTyxTQUFTSSxpQkFBaUJ2QyxTQUFvQixFQUFFVSxPQUFhLElBQUlwQyxNQUFNO0lBQzVFLE9BQU9rRCxrQkFBa0JkLE1BQU1WO0FBQ2pDO0FBRU8sU0FBU3dDLGdCQUFnQnhDLFNBQW9CO0lBQ2xELE1BQU15QyxNQUFNO1FBQ1ZDLFFBQVE7UUFDUkMsU0FBUztRQUNUQyxXQUFXO1FBQ1hDLFVBQVU7UUFDVkMsUUFBUTtJQUNWO0lBQ0EsT0FBT0wsR0FBRyxDQUFDekMsVUFBVTtBQUN2QiIsInNvdXJjZXMiOlsiL2hvbWUvc2FudGlhZ28vcHJvamVjdHMvaG9tZXRhc2tzL2xpYi9kYXRlLXV0aWxzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZyZXF1ZW5jeSwgVGFzayB9IGZyb20gJ0AvdHlwZXMnO1xuaW1wb3J0IHsgZ2V0V2Vlaywgc3RhcnRPZlF1YXJ0ZXIsIHN0YXJ0T2ZZZWFyLCBzdGFydE9mV2VlaywgZW5kT2ZXZWVrLCBmb3JtYXQsIHN0YXJ0T2ZNb250aCwgZW5kT2ZNb250aCwgZW5kT2ZRdWFydGVyLCBlbmRPZlllYXIgfSBmcm9tICdkYXRlLWZucyc7XG5pbXBvcnQgeyBlcyB9IGZyb20gJ2RhdGUtZm5zL2xvY2FsZSc7XG5cbi8vIEZ1bmNpb25lcyBwYXJhIG1hbmVqbyBkZSBwZXLDrW9kb3MgYWN0dWFsZXNcbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50V2VlaygpOiB7IHN0YXJ0OiBEYXRlOyBlbmQ6IERhdGU7IHdlZWtOdW1iZXI6IG51bWJlcjsgeWVhcjogbnVtYmVyIH0ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBzdGFydCA9IHN0YXJ0T2ZXZWVrKG5vdywgeyB3ZWVrU3RhcnRzT246IDEgfSk7IC8vIEx1bmVzIGNvbW8gcHJpbWVyIGTDrWFcbiAgY29uc3QgZW5kID0gZW5kT2ZXZWVrKG5vdywgeyB3ZWVrU3RhcnRzT246IDEgfSk7IC8vIERvbWluZ28gY29tbyDDumx0aW1vIGTDrWFcbiAgY29uc3Qgd2Vla051bWJlciA9IGdldFdlZWsobm93LCB7IHdlZWtTdGFydHNPbjogMSB9KTtcbiAgY29uc3QgeWVhciA9IG5vdy5nZXRGdWxsWWVhcigpO1xuICBcbiAgcmV0dXJuIHsgc3RhcnQsIGVuZCwgd2Vla051bWJlciwgeWVhciB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudE1vbnRoKCk6IHsgc3RhcnQ6IERhdGU7IGVuZDogRGF0ZTsgbW9udGhOdW1iZXI6IG51bWJlcjsgeWVhcjogbnVtYmVyIH0ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCBzdGFydCA9IHN0YXJ0T2ZNb250aChub3cpO1xuICBjb25zdCBlbmQgPSBlbmRPZk1vbnRoKG5vdyk7XG4gIGNvbnN0IG1vbnRoTnVtYmVyID0gbm93LmdldE1vbnRoKCkgKyAxO1xuICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gIFxuICByZXR1cm4geyBzdGFydCwgZW5kLCBtb250aE51bWJlciwgeWVhciB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFF1YXJ0ZXIoKTogeyBzdGFydDogRGF0ZTsgZW5kOiBEYXRlOyBxdWFydGVyTnVtYmVyOiBudW1iZXI7IHllYXI6IG51bWJlciB9IHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgY29uc3Qgc3RhcnQgPSBzdGFydE9mUXVhcnRlcihub3cpO1xuICBjb25zdCBlbmQgPSBlbmRPZlF1YXJ0ZXIobm93KTtcbiAgY29uc3QgcXVhcnRlck51bWJlciA9IE1hdGguZmxvb3Iobm93LmdldE1vbnRoKCkgLyAzKSArIDE7XG4gIGNvbnN0IHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKTtcbiAgXG4gIHJldHVybiB7IHN0YXJ0LCBlbmQsIHF1YXJ0ZXJOdW1iZXIsIHllYXIgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRCaWFubnVhbCgpOiB7IHN0YXJ0OiBEYXRlOyBlbmQ6IERhdGU7IGhhbGZOdW1iZXI6IG51bWJlcjsgeWVhcjogbnVtYmVyIH0ge1xuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICBjb25zdCB5ZWFyID0gbm93LmdldEZ1bGxZZWFyKCk7XG4gIGNvbnN0IG1vbnRoID0gbm93LmdldE1vbnRoKCk7XG4gIGNvbnN0IGhhbGZOdW1iZXIgPSBtb250aCA8IDYgPyAxIDogMjtcbiAgXG4gIGNvbnN0IHN0YXJ0ID0gbmV3IERhdGUoeWVhciwgaGFsZk51bWJlciA9PT0gMSA/IDAgOiA2LCAxKTtcbiAgY29uc3QgZW5kID0gbmV3IERhdGUoeWVhciwgaGFsZk51bWJlciA9PT0gMSA/IDUgOiAxMSwgaGFsZk51bWJlciA9PT0gMSA/IDMwIDogMzEpO1xuICBcbiAgcmV0dXJuIHsgc3RhcnQsIGVuZCwgaGFsZk51bWJlciwgeWVhciB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFllYXIoKTogeyBzdGFydDogRGF0ZTsgZW5kOiBEYXRlOyB5ZWFyOiBudW1iZXIgfSB7XG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IHllYXIgPSBub3cuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3Qgc3RhcnQgPSBzdGFydE9mWWVhcihub3cpO1xuICBjb25zdCBlbmQgPSBlbmRPZlllYXIobm93KTtcbiAgXG4gIHJldHVybiB7IHN0YXJ0LCBlbmQsIHllYXIgfTtcbn1cblxuLy8gRnVuY2lvbmVzIHBhcmEgZ2VuZXJhciBjbGF2ZXMgZGUgcGVyw61vZG9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDdXJyZW50V2Vla0tleSgpOiBzdHJpbmcge1xuICBjb25zdCB7IHllYXIsIHdlZWtOdW1iZXIgfSA9IGdldEN1cnJlbnRXZWVrKCk7XG4gIHJldHVybiBgJHt5ZWFyfS1XJHt3ZWVrTnVtYmVyLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudE1vbnRoS2V5KCk6IHN0cmluZyB7XG4gIGNvbnN0IHsgeWVhciwgbW9udGhOdW1iZXIgfSA9IGdldEN1cnJlbnRNb250aCgpO1xuICByZXR1cm4gYCR7eWVhcn0tJHttb250aE51bWJlci50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRRdWFydGVyS2V5KCk6IHN0cmluZyB7XG4gIGNvbnN0IHsgeWVhciwgcXVhcnRlck51bWJlciB9ID0gZ2V0Q3VycmVudFF1YXJ0ZXIoKTtcbiAgcmV0dXJuIGAke3llYXJ9LVEke3F1YXJ0ZXJOdW1iZXJ9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRCaWFubnVhbEtleSgpOiBzdHJpbmcge1xuICBjb25zdCB7IHllYXIsIGhhbGZOdW1iZXIgfSA9IGdldEN1cnJlbnRCaWFubnVhbCgpO1xuICByZXR1cm4gYCR7eWVhcn0tSCR7aGFsZk51bWJlcn1gO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFllYXJLZXkoKTogc3RyaW5nIHtcbiAgY29uc3QgeyB5ZWFyIH0gPSBnZXRDdXJyZW50WWVhcigpO1xuICByZXR1cm4gYCR7eWVhcn1gO1xufVxuXG4vLyBGdW5jacOzbiB1bml2ZXJzYWwgcGFyYSBvYnRlbmVyIGNsYXZlIGRlIHBlcsOtb2RvIHNlZ8O6biBmcmVjdWVuY2lhXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFBlcmlvZEtleShmcmVxdWVuY3k6IEZyZXF1ZW5jeSk6IHN0cmluZyB7XG4gIHN3aXRjaCAoZnJlcXVlbmN5KSB7XG4gICAgY2FzZSAnV0VFS0xZJzogcmV0dXJuIGdldEN1cnJlbnRXZWVrS2V5KCk7XG4gICAgY2FzZSAnTU9OVEhMWSc6IHJldHVybiBnZXRDdXJyZW50TW9udGhLZXkoKTtcbiAgICBjYXNlICdRVUFSVEVSTFknOiByZXR1cm4gZ2V0Q3VycmVudFF1YXJ0ZXJLZXkoKTtcbiAgICBjYXNlICdCSUFOTlVBTCc6IHJldHVybiBnZXRDdXJyZW50Qmlhbm51YWxLZXkoKTtcbiAgICBjYXNlICdBTk5VQUwnOiByZXR1cm4gZ2V0Q3VycmVudFllYXJLZXkoKTtcbiAgICBkZWZhdWx0OiByZXR1cm4gZ2V0Q3VycmVudFdlZWtLZXkoKTtcbiAgfVxufVxuXG4vLyBGdW5jaW9uZXMgcGFyYSBmb3JtYXRlYXIgcGVyw61vZG9zXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0V2Vla1JhbmdlKHN0YXJ0OiBEYXRlLCBlbmQ6IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gYCR7Zm9ybWF0KHN0YXJ0LCAnZGQgTU1NJywgeyBsb2NhbGU6IGVzIH0pfSAtICR7Zm9ybWF0KGVuZCwgJ2RkIE1NTSB5eXl5JywgeyBsb2NhbGU6IGVzIH0pfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRNb250aFJhbmdlKHN0YXJ0OiBEYXRlLCBlbmQ6IERhdGUpOiBzdHJpbmcge1xuICByZXR1cm4gZm9ybWF0KHN0YXJ0LCAnTU1NTSB5eXl5JywgeyBsb2NhbGU6IGVzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0UXVhcnRlclJhbmdlKHN0YXJ0OiBEYXRlLCBlbmQ6IERhdGUsIHF1YXJ0ZXI6IG51bWJlcik6IHN0cmluZyB7XG4gIHJldHVybiBgJHtxdWFydGVyfcKwIFRyaW1lc3RyZSAke2Zvcm1hdChzdGFydCwgJ3l5eXknLCB7IGxvY2FsZTogZXMgfSl9YDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEJpYW5udWFsUmFuZ2Uoc3RhcnQ6IERhdGUsIGVuZDogRGF0ZSwgaGFsZjogbnVtYmVyKTogc3RyaW5nIHtcbiAgcmV0dXJuIGAke2hhbGZ9wrAgU2VtZXN0cmUgJHtmb3JtYXQoc3RhcnQsICd5eXl5JywgeyBsb2NhbGU6IGVzIH0pfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRZZWFyUmFuZ2Uoc3RhcnQ6IERhdGUsIGVuZDogRGF0ZSk6IHN0cmluZyB7XG4gIHJldHVybiBmb3JtYXQoc3RhcnQsICd5eXl5JywgeyBsb2NhbGU6IGVzIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNDdXJyZW50V2VlayhkYXRlOiBEYXRlKTogYm9vbGVhbiB7XG4gIGNvbnN0IHsgc3RhcnQsIGVuZCB9ID0gZ2V0Q3VycmVudFdlZWsoKTtcbiAgcmV0dXJuIGRhdGUgPj0gc3RhcnQgJiYgZGF0ZSA8PSBlbmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVOZXh0RHVlRGF0ZSh0YXNrOiBUYXNrLCBjdXJyZW50RGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCkpOiBEYXRlIHtcbiAgY29uc3QgeyBmcmVxdWVuY3ksIHN0YXJ0RGF0ZSwgd2Vla09mTW9udGgsIG1vbnRoc0FycmF5IH0gPSB0YXNrO1xuICBcbiAgc3dpdGNoIChmcmVxdWVuY3kpIHtcbiAgICBjYXNlICdXRUVLTFknOlxuICAgICAgLy8gQ2FkYSA3IGTDrWFzIGRlc2RlIHN0YXJ0RGF0ZVxuICAgICAgY29uc3Qgd2Vla3NEaWZmID0gTWF0aC5mbG9vcigoY3VycmVudERhdGUuZ2V0VGltZSgpIC0gc3RhcnREYXRlLmdldFRpbWUoKSkgLyAoNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcbiAgICAgIHJldHVybiBuZXcgRGF0ZShzdGFydERhdGUuZ2V0VGltZSgpICsgKCh3ZWVrc0RpZmYgKyAxKSAqIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XG4gICAgXG4gICAgY2FzZSAnTU9OVEhMWSc6XG4gICAgICAvLyBTZW1hbmEgZXNwZWPDrWZpY2EgZGVsIG1lc1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZU1vbnRobHlEYXRlKGN1cnJlbnREYXRlLCB3ZWVrT2ZNb250aCB8fCAxKTtcbiAgICBcbiAgICBjYXNlICdRVUFSVEVSTFknOlxuICAgIGNhc2UgJ0JJQU5OVUFMJzpcbiAgICBjYXNlICdBTk5VQUwnOlxuICAgICAgLy8gVXNhciBtb250aHNBcnJheSBwYXJhIGRldGVybWluYXIgbWVzZXMgZXNwZWPDrWZpY29zXG4gICAgICBjb25zdCBtb250aHMgPSBKU09OLnBhcnNlKG1vbnRoc0FycmF5IHx8ICdbXScpO1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZVBlcmlvZGljRGF0ZShjdXJyZW50RGF0ZSwgbW9udGhzLCBmcmVxdWVuY3kpO1xuICAgIFxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVQZXJpb2RLZXkoZGF0ZTogRGF0ZSwgZnJlcXVlbmN5OiBGcmVxdWVuY3kpOiBzdHJpbmcge1xuICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICBcbiAgc3dpdGNoIChmcmVxdWVuY3kpIHtcbiAgICBjYXNlICdXRUVLTFknOlxuICAgICAgY29uc3Qgd2VlayA9IGdldFdlZWsoZGF0ZSk7XG4gICAgICByZXR1cm4gYCR7eWVhcn0tVyR7d2Vlay50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICBjYXNlICdNT05USExZJzpcbiAgICAgIGNvbnN0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgIGNhc2UgJ1FVQVJURVJMWSc6XG4gICAgICBjb25zdCBxdWFydGVyID0gTWF0aC5mbG9vcihkYXRlLmdldE1vbnRoKCkgLyAzKSArIDE7XG4gICAgICByZXR1cm4gYCR7eWVhcn0tUSR7cXVhcnRlcn1gO1xuICAgIGNhc2UgJ0JJQU5OVUFMJzpcbiAgICAgIGNvbnN0IGhhbGYgPSBkYXRlLmdldE1vbnRoKCkgPCA2ID8gMSA6IDI7XG4gICAgICByZXR1cm4gYCR7eWVhcn0tSCR7aGFsZn1gO1xuICAgIGNhc2UgJ0FOTlVBTCc6XG4gICAgICByZXR1cm4gYCR7eWVhcn1gO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gYCR7eWVhcn1gO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZU1vbnRobHlEYXRlKGN1cnJlbnREYXRlOiBEYXRlLCB3ZWVrT2ZNb250aDogbnVtYmVyKTogRGF0ZSB7XG4gIGNvbnN0IHllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpO1xuICBjb25zdCBtb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCk7XG4gIFxuICAvLyBQcmltZXIgZMOtYSBkZWwgbWVzXG4gIGNvbnN0IGZpcnN0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpO1xuICBcbiAgLy8gRW5jb250cmFyIGVsIHByaW1lciBsdW5lcyBkZWwgbWVzXG4gIGNvbnN0IGZpcnN0TW9uZGF5ID0gbmV3IERhdGUoZmlyc3REYXkpO1xuICBjb25zdCBkYXlPZldlZWsgPSBmaXJzdERheS5nZXREYXkoKTtcbiAgY29uc3QgZGF5c1RvQWRkID0gZGF5T2ZXZWVrID09PSAwID8gMSA6IDggLSBkYXlPZldlZWs7XG4gIGZpcnN0TW9uZGF5LnNldERhdGUoZmlyc3REYXkuZ2V0RGF0ZSgpICsgZGF5c1RvQWRkKTtcbiAgXG4gIC8vIEFncmVnYXIgc2VtYW5hcyBzZWfDum4gd2Vla09mTW9udGhcbiAgY29uc3QgdGFyZ2V0RGF0ZSA9IG5ldyBEYXRlKGZpcnN0TW9uZGF5KTtcbiAgdGFyZ2V0RGF0ZS5zZXREYXRlKGZpcnN0TW9uZGF5LmdldERhdGUoKSArICh3ZWVrT2ZNb250aCAtIDEpICogNyk7XG4gIFxuICByZXR1cm4gdGFyZ2V0RGF0ZTtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlUGVyaW9kaWNEYXRlKGN1cnJlbnREYXRlOiBEYXRlLCBtb250aHM6IG51bWJlcltdLCBmcmVxdWVuY3k6IEZyZXF1ZW5jeSk6IERhdGUge1xuICBjb25zdCB5ZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgY29uc3QgY3VycmVudE1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDE7XG4gIFxuICAvLyBFbmNvbnRyYXIgZWwgcHLDs3hpbW8gbWVzIHbDoWxpZG9cbiAgbGV0IG5leHRNb250aCA9IG1vbnRocy5maW5kKG0gPT4gbSA+IGN1cnJlbnRNb250aCk7XG4gIGxldCBuZXh0WWVhciA9IHllYXI7XG4gIFxuICBpZiAoIW5leHRNb250aCkge1xuICAgIG5leHRNb250aCA9IG1vbnRoc1swXTtcbiAgICBuZXh0WWVhciA9IHllYXIgKyAxO1xuICB9XG4gIFxuICByZXR1cm4gbmV3IERhdGUobmV4dFllYXIsIG5leHRNb250aCAtIDEsIDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFBlcmlvZChmcmVxdWVuY3k6IEZyZXF1ZW5jeSwgZGF0ZTogRGF0ZSA9IG5ldyBEYXRlKCkpOiBzdHJpbmcge1xuICByZXR1cm4gZ2VuZXJhdGVQZXJpb2RLZXkoZGF0ZSwgZnJlcXVlbmN5KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdEZyZXF1ZW5jeShmcmVxdWVuY3k6IEZyZXF1ZW5jeSk6IHN0cmluZyB7XG4gIGNvbnN0IG1hcCA9IHtcbiAgICBXRUVLTFk6ICdTZW1hbmFsJyxcbiAgICBNT05USExZOiAnTWVuc3VhbCcsXG4gICAgUVVBUlRFUkxZOiAnVHJpbWVzdHJhbCcsXG4gICAgQklBTk5VQUw6ICdTZW1lc3RyYWwnLFxuICAgIEFOTlVBTDogJ0FudWFsJ1xuICB9O1xuICByZXR1cm4gbWFwW2ZyZXF1ZW5jeV07XG59XG4iXSwibmFtZXMiOlsiZ2V0V2VlayIsInN0YXJ0T2ZRdWFydGVyIiwic3RhcnRPZlllYXIiLCJzdGFydE9mV2VlayIsImVuZE9mV2VlayIsImZvcm1hdCIsInN0YXJ0T2ZNb250aCIsImVuZE9mTW9udGgiLCJlbmRPZlF1YXJ0ZXIiLCJlbmRPZlllYXIiLCJlcyIsImdldEN1cnJlbnRXZWVrIiwibm93IiwiRGF0ZSIsInN0YXJ0Iiwid2Vla1N0YXJ0c09uIiwiZW5kIiwid2Vla051bWJlciIsInllYXIiLCJnZXRGdWxsWWVhciIsImdldEN1cnJlbnRNb250aCIsIm1vbnRoTnVtYmVyIiwiZ2V0TW9udGgiLCJnZXRDdXJyZW50UXVhcnRlciIsInF1YXJ0ZXJOdW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJnZXRDdXJyZW50Qmlhbm51YWwiLCJtb250aCIsImhhbGZOdW1iZXIiLCJnZXRDdXJyZW50WWVhciIsImdldEN1cnJlbnRXZWVrS2V5IiwidG9TdHJpbmciLCJwYWRTdGFydCIsImdldEN1cnJlbnRNb250aEtleSIsImdldEN1cnJlbnRRdWFydGVyS2V5IiwiZ2V0Q3VycmVudEJpYW5udWFsS2V5IiwiZ2V0Q3VycmVudFllYXJLZXkiLCJnZXRDdXJyZW50UGVyaW9kS2V5IiwiZnJlcXVlbmN5IiwiZm9ybWF0V2Vla1JhbmdlIiwibG9jYWxlIiwiZm9ybWF0TW9udGhSYW5nZSIsImZvcm1hdFF1YXJ0ZXJSYW5nZSIsInF1YXJ0ZXIiLCJmb3JtYXRCaWFubnVhbFJhbmdlIiwiaGFsZiIsImZvcm1hdFllYXJSYW5nZSIsImlzQ3VycmVudFdlZWsiLCJkYXRlIiwiY2FsY3VsYXRlTmV4dER1ZURhdGUiLCJ0YXNrIiwiY3VycmVudERhdGUiLCJzdGFydERhdGUiLCJ3ZWVrT2ZNb250aCIsIm1vbnRoc0FycmF5Iiwid2Vla3NEaWZmIiwiZ2V0VGltZSIsImNhbGN1bGF0ZU1vbnRobHlEYXRlIiwibW9udGhzIiwiSlNPTiIsInBhcnNlIiwiY2FsY3VsYXRlUGVyaW9kaWNEYXRlIiwiZ2VuZXJhdGVQZXJpb2RLZXkiLCJ3ZWVrIiwiZmlyc3REYXkiLCJmaXJzdE1vbmRheSIsImRheU9mV2VlayIsImdldERheSIsImRheXNUb0FkZCIsInNldERhdGUiLCJnZXREYXRlIiwidGFyZ2V0RGF0ZSIsImN1cnJlbnRNb250aCIsIm5leHRNb250aCIsImZpbmQiLCJtIiwibmV4dFllYXIiLCJnZXRDdXJyZW50UGVyaW9kIiwiZm9ybWF0RnJlcXVlbmN5IiwibWFwIiwiV0VFS0xZIiwiTU9OVEhMWSIsIlFVQVJURVJMWSIsIkJJQU5OVUFMIiwiQU5OVUFMIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/date-utils.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/index.ts":
/*!*************************!*\
  !*** ./lib/db/index.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _libsql_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @libsql/client */ \"@libsql/client\");\n/* harmony import */ var drizzle_orm_libsql__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/libsql */ \"(rsc)/./node_modules/drizzle-orm/libsql/driver.js\");\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schema */ \"(rsc)/./lib/db/schema.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_libsql_client__WEBPACK_IMPORTED_MODULE_0__]);\n_libsql_client__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst client = (0,_libsql_client__WEBPACK_IMPORTED_MODULE_0__.createClient)({\n    url: process.env.TURSO_DATABASE_URL,\n    authToken: process.env.TURSO_AUTH_TOKEN\n});\nconst db = (0,drizzle_orm_libsql__WEBPACK_IMPORTED_MODULE_2__.drizzle)(client, {\n    schema: _schema__WEBPACK_IMPORTED_MODULE_1__\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE4QztBQUNEO0FBQ1Y7QUFFbkMsTUFBTUcsU0FBU0gsNERBQVlBLENBQUM7SUFDMUJJLEtBQUtDLFFBQVFDLEdBQUcsQ0FBQ0Msa0JBQWtCO0lBQ25DQyxXQUFXSCxRQUFRQyxHQUFHLENBQUNHLGdCQUFnQjtBQUN6QztBQUVPLE1BQU1DLEtBQUtULDJEQUFPQSxDQUFDRSxRQUFRO0lBQUVELE1BQU1BLHNDQUFBQTtBQUFDLEdBQUciLCJzb3VyY2VzIjpbIi9ob21lL3NhbnRpYWdvL3Byb2plY3RzL2hvbWV0YXNrcy9saWIvZGIvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQGxpYnNxbC9jbGllbnQnO1xuaW1wb3J0IHsgZHJpenpsZSB9IGZyb20gJ2RyaXp6bGUtb3JtL2xpYnNxbCc7XG5pbXBvcnQgKiBhcyBzY2hlbWEgZnJvbSAnLi9zY2hlbWEnO1xuXG5jb25zdCBjbGllbnQgPSBjcmVhdGVDbGllbnQoe1xuICB1cmw6IHByb2Nlc3MuZW52LlRVUlNPX0RBVEFCQVNFX1VSTCEsXG4gIGF1dGhUb2tlbjogcHJvY2Vzcy5lbnYuVFVSU09fQVVUSF9UT0tFTiEsXG59KTtcblxuZXhwb3J0IGNvbnN0IGRiID0gZHJpenpsZShjbGllbnQsIHsgc2NoZW1hIH0pO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImRyaXp6bGUiLCJzY2hlbWEiLCJjbGllbnQiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiVFVSU09fREFUQUJBU0VfVVJMIiwiYXV0aFRva2VuIiwiVFVSU09fQVVUSF9UT0tFTiIsImRiIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/index.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db/schema.ts":
/*!**************************!*\
  !*** ./lib/db/schema.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   areas: () => (/* binding */ areas),\n/* harmony export */   completions: () => (/* binding */ completions),\n/* harmony export */   tasks: () => (/* binding */ tasks),\n/* harmony export */   users: () => (/* binding */ users)\n/* harmony export */ });\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/table.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/columns/text.js\");\n/* harmony import */ var drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! drizzle-orm/sqlite-core */ \"(rsc)/./node_modules/drizzle-orm/sqlite-core/columns/integer.js\");\n\nconst users = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)('users', {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('id').primaryKey(),\n    email: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('email').unique().notNull(),\n    name: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('name'),\n    passwordHash: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('password_hash').notNull(),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('created_at', {\n        mode: 'timestamp'\n    }),\n    updatedAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('updated_at', {\n        mode: 'timestamp'\n    })\n});\nconst areas = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)('areas', {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('id').primaryKey(),\n    name: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('name').notNull(),\n    color: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('color').default('#3B82F6'),\n    userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('user_id').references(()=>users.id),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('created_at', {\n        mode: 'timestamp'\n    })\n});\nconst tasks = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)('tasks', {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('id').primaryKey(),\n    name: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('name').notNull(),\n    description: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('description'),\n    frequency: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('frequency', {\n        enum: [\n            'WEEKLY',\n            'MONTHLY',\n            'QUARTERLY',\n            'BIANNUAL',\n            'ANNUAL'\n        ]\n    }).notNull(),\n    areaId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('area_id').references(()=>areas.id),\n    userId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('user_id').references(()=>users.id).notNull(),\n    startDate: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('start_date', {\n        mode: 'timestamp'\n    }).notNull(),\n    weekOfMonth: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('week_of_month'),\n    monthsArray: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('months_array'),\n    createdAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('created_at', {\n        mode: 'timestamp'\n    }),\n    updatedAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('updated_at', {\n        mode: 'timestamp'\n    })\n});\nconst completions = (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_0__.sqliteTable)('completions', {\n    id: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('id').primaryKey(),\n    taskId: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('task_id').references(()=>tasks.id).notNull(),\n    completedAt: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_2__.integer)('completed_at', {\n        mode: 'timestamp'\n    }),\n    period: (0,drizzle_orm_sqlite_core__WEBPACK_IMPORTED_MODULE_1__.text)('period').notNull()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIvc2NoZW1hLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBcUU7QUFFOUQsTUFBTUcsUUFBUUgsb0VBQVdBLENBQUMsU0FBUztJQUN4Q0ksSUFBSUgsNkRBQUlBLENBQUMsTUFBTUksVUFBVTtJQUN6QkMsT0FBT0wsNkRBQUlBLENBQUMsU0FBU00sTUFBTSxHQUFHQyxPQUFPO0lBQ3JDQyxNQUFNUiw2REFBSUEsQ0FBQztJQUNYUyxjQUFjVCw2REFBSUEsQ0FBQyxpQkFBaUJPLE9BQU87SUFDM0NHLFdBQVdULGdFQUFPQSxDQUFDLGNBQWM7UUFBRVUsTUFBTTtJQUFZO0lBQ3JEQyxXQUFXWCxnRUFBT0EsQ0FBQyxjQUFjO1FBQUVVLE1BQU07SUFBWTtBQUN2RCxHQUFHO0FBRUksTUFBTUUsUUFBUWQsb0VBQVdBLENBQUMsU0FBUztJQUN4Q0ksSUFBSUgsNkRBQUlBLENBQUMsTUFBTUksVUFBVTtJQUN6QkksTUFBTVIsNkRBQUlBLENBQUMsUUFBUU8sT0FBTztJQUMxQk8sT0FBT2QsNkRBQUlBLENBQUMsU0FBU2UsT0FBTyxDQUFDO0lBQzdCQyxRQUFRaEIsNkRBQUlBLENBQUMsV0FBV2lCLFVBQVUsQ0FBQyxJQUFNZixNQUFNQyxFQUFFO0lBQ2pETyxXQUFXVCxnRUFBT0EsQ0FBQyxjQUFjO1FBQUVVLE1BQU07SUFBWTtBQUN2RCxHQUFHO0FBRUksTUFBTU8sUUFBUW5CLG9FQUFXQSxDQUFDLFNBQVM7SUFDeENJLElBQUlILDZEQUFJQSxDQUFDLE1BQU1JLFVBQVU7SUFDekJJLE1BQU1SLDZEQUFJQSxDQUFDLFFBQVFPLE9BQU87SUFDMUJZLGFBQWFuQiw2REFBSUEsQ0FBQztJQUNsQm9CLFdBQVdwQiw2REFBSUEsQ0FBQyxhQUFhO1FBQzNCcUIsTUFBTTtZQUFDO1lBQVU7WUFBVztZQUFhO1lBQVk7U0FBUztJQUNoRSxHQUFHZCxPQUFPO0lBQ1ZlLFFBQVF0Qiw2REFBSUEsQ0FBQyxXQUFXaUIsVUFBVSxDQUFDLElBQU1KLE1BQU1WLEVBQUU7SUFDakRhLFFBQVFoQiw2REFBSUEsQ0FBQyxXQUFXaUIsVUFBVSxDQUFDLElBQU1mLE1BQU1DLEVBQUUsRUFBRUksT0FBTztJQUMxRGdCLFdBQVd0QixnRUFBT0EsQ0FBQyxjQUFjO1FBQUVVLE1BQU07SUFBWSxHQUFHSixPQUFPO0lBQy9EaUIsYUFBYXZCLGdFQUFPQSxDQUFDO0lBQ3JCd0IsYUFBYXpCLDZEQUFJQSxDQUFDO0lBQ2xCVSxXQUFXVCxnRUFBT0EsQ0FBQyxjQUFjO1FBQUVVLE1BQU07SUFBWTtJQUNyREMsV0FBV1gsZ0VBQU9BLENBQUMsY0FBYztRQUFFVSxNQUFNO0lBQVk7QUFDdkQsR0FBRztBQUVJLE1BQU1lLGNBQWMzQixvRUFBV0EsQ0FBQyxlQUFlO0lBQ3BESSxJQUFJSCw2REFBSUEsQ0FBQyxNQUFNSSxVQUFVO0lBQ3pCdUIsUUFBUTNCLDZEQUFJQSxDQUFDLFdBQVdpQixVQUFVLENBQUMsSUFBTUMsTUFBTWYsRUFBRSxFQUFFSSxPQUFPO0lBQzFEcUIsYUFBYTNCLGdFQUFPQSxDQUFDLGdCQUFnQjtRQUFFVSxNQUFNO0lBQVk7SUFDekRrQixRQUFRN0IsNkRBQUlBLENBQUMsVUFBVU8sT0FBTztBQUNoQyxHQUFHIiwic291cmNlcyI6WyIvaG9tZS9zYW50aWFnby9wcm9qZWN0cy9ob21ldGFza3MvbGliL2RiL3NjaGVtYS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzcWxpdGVUYWJsZSwgdGV4dCwgaW50ZWdlciB9IGZyb20gJ2RyaXp6bGUtb3JtL3NxbGl0ZS1jb3JlJztcblxuZXhwb3J0IGNvbnN0IHVzZXJzID0gc3FsaXRlVGFibGUoJ3VzZXJzJywge1xuICBpZDogdGV4dCgnaWQnKS5wcmltYXJ5S2V5KCksXG4gIGVtYWlsOiB0ZXh0KCdlbWFpbCcpLnVuaXF1ZSgpLm5vdE51bGwoKSxcbiAgbmFtZTogdGV4dCgnbmFtZScpLFxuICBwYXNzd29yZEhhc2g6IHRleHQoJ3Bhc3N3b3JkX2hhc2gnKS5ub3ROdWxsKCksXG4gIGNyZWF0ZWRBdDogaW50ZWdlcignY3JlYXRlZF9hdCcsIHsgbW9kZTogJ3RpbWVzdGFtcCcgfSksXG4gIHVwZGF0ZWRBdDogaW50ZWdlcigndXBkYXRlZF9hdCcsIHsgbW9kZTogJ3RpbWVzdGFtcCcgfSksXG59KTtcblxuZXhwb3J0IGNvbnN0IGFyZWFzID0gc3FsaXRlVGFibGUoJ2FyZWFzJywge1xuICBpZDogdGV4dCgnaWQnKS5wcmltYXJ5S2V5KCksXG4gIG5hbWU6IHRleHQoJ25hbWUnKS5ub3ROdWxsKCksXG4gIGNvbG9yOiB0ZXh0KCdjb2xvcicpLmRlZmF1bHQoJyMzQjgyRjYnKSxcbiAgdXNlcklkOiB0ZXh0KCd1c2VyX2lkJykucmVmZXJlbmNlcygoKSA9PiB1c2Vycy5pZCksXG4gIGNyZWF0ZWRBdDogaW50ZWdlcignY3JlYXRlZF9hdCcsIHsgbW9kZTogJ3RpbWVzdGFtcCcgfSksXG59KTtcblxuZXhwb3J0IGNvbnN0IHRhc2tzID0gc3FsaXRlVGFibGUoJ3Rhc2tzJywge1xuICBpZDogdGV4dCgnaWQnKS5wcmltYXJ5S2V5KCksXG4gIG5hbWU6IHRleHQoJ25hbWUnKS5ub3ROdWxsKCksXG4gIGRlc2NyaXB0aW9uOiB0ZXh0KCdkZXNjcmlwdGlvbicpLFxuICBmcmVxdWVuY3k6IHRleHQoJ2ZyZXF1ZW5jeScsIHsgXG4gICAgZW51bTogWydXRUVLTFknLCAnTU9OVEhMWScsICdRVUFSVEVSTFknLCAnQklBTk5VQUwnLCAnQU5OVUFMJ10gXG4gIH0pLm5vdE51bGwoKSxcbiAgYXJlYUlkOiB0ZXh0KCdhcmVhX2lkJykucmVmZXJlbmNlcygoKSA9PiBhcmVhcy5pZCksXG4gIHVzZXJJZDogdGV4dCgndXNlcl9pZCcpLnJlZmVyZW5jZXMoKCkgPT4gdXNlcnMuaWQpLm5vdE51bGwoKSxcbiAgc3RhcnREYXRlOiBpbnRlZ2VyKCdzdGFydF9kYXRlJywgeyBtb2RlOiAndGltZXN0YW1wJyB9KS5ub3ROdWxsKCksXG4gIHdlZWtPZk1vbnRoOiBpbnRlZ2VyKCd3ZWVrX29mX21vbnRoJyksIC8vIDEtNCBwYXJhIG1lbnN1YWxcbiAgbW9udGhzQXJyYXk6IHRleHQoJ21vbnRoc19hcnJheScpLCAvLyBKU09OIFtcIjFcIixcIjRcIixcIjdcIixcIjEwXCJdIHRyaW1lc3RyYWxcbiAgY3JlYXRlZEF0OiBpbnRlZ2VyKCdjcmVhdGVkX2F0JywgeyBtb2RlOiAndGltZXN0YW1wJyB9KSxcbiAgdXBkYXRlZEF0OiBpbnRlZ2VyKCd1cGRhdGVkX2F0JywgeyBtb2RlOiAndGltZXN0YW1wJyB9KSxcbn0pO1xuXG5leHBvcnQgY29uc3QgY29tcGxldGlvbnMgPSBzcWxpdGVUYWJsZSgnY29tcGxldGlvbnMnLCB7XG4gIGlkOiB0ZXh0KCdpZCcpLnByaW1hcnlLZXkoKSxcbiAgdGFza0lkOiB0ZXh0KCd0YXNrX2lkJykucmVmZXJlbmNlcygoKSA9PiB0YXNrcy5pZCkubm90TnVsbCgpLFxuICBjb21wbGV0ZWRBdDogaW50ZWdlcignY29tcGxldGVkX2F0JywgeyBtb2RlOiAndGltZXN0YW1wJyB9KSxcbiAgcGVyaW9kOiB0ZXh0KCdwZXJpb2QnKS5ub3ROdWxsKCksIC8vIFwiMjAyNC1XMDNcIiwgXCIyMDI0LTAxXCIsIFwiMjAyNC1RMVwiXG59KTtcbiJdLCJuYW1lcyI6WyJzcWxpdGVUYWJsZSIsInRleHQiLCJpbnRlZ2VyIiwidXNlcnMiLCJpZCIsInByaW1hcnlLZXkiLCJlbWFpbCIsInVuaXF1ZSIsIm5vdE51bGwiLCJuYW1lIiwicGFzc3dvcmRIYXNoIiwiY3JlYXRlZEF0IiwibW9kZSIsInVwZGF0ZWRBdCIsImFyZWFzIiwiY29sb3IiLCJkZWZhdWx0IiwidXNlcklkIiwicmVmZXJlbmNlcyIsInRhc2tzIiwiZGVzY3JpcHRpb24iLCJmcmVxdWVuY3kiLCJlbnVtIiwiYXJlYUlkIiwic3RhcnREYXRlIiwid2Vla09mTW9udGgiLCJtb250aHNBcnJheSIsImNvbXBsZXRpb25zIiwidGFza0lkIiwiY29tcGxldGVkQXQiLCJwZXJpb2QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db/schema.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var _home_santiago_projects_hometasks_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./app/api/dashboard/route.ts */ \"(rsc)/./app/api/dashboard/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_home_santiago_projects_hometasks_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_16__]);\n_home_santiago_projects_hometasks_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_16__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/dashboard/route\",\n        pathname: \"/api/dashboard\",\n        filename: \"route\",\n        bundlePath: \"app/api/dashboard/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"/home/santiago/projects/hometasks/app/api/dashboard/route.ts\",\n    nextConfigOutput,\n    userland: _home_santiago_projects_hometasks_app_api_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/dashboard/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZkYXNoYm9hcmQlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmRhc2hib2FyZCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmRhc2hib2FyZCUyRnJvdXRlLnRzJmFwcERpcj0lMkZob21lJTJGc2FudGlhZ28lMkZwcm9qZWN0cyUyRmhvbWV0YXNrcyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGaG9tZSUyRnNhbnRpYWdvJTJGcHJvamVjdHMlMkZob21ldGFza3MmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QmaXNHbG9iYWxOb3RGb3VuZEVuYWJsZWQ9ISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNkO0FBQ1M7QUFDTztBQUNLO0FBQ21DO0FBQ2pEO0FBQ087QUFDZjtBQUNzQztBQUN6QjtBQUNNO0FBQ0M7QUFDaEI7QUFDdUI7QUFDekY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsYUFBYSxPQUFvQyxJQUFJLENBQUU7QUFDdkQsd0JBQXdCLE1BQXVDO0FBQy9EO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RB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QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQSw0Q0FBNEMsNkZBQWU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9ob21lL3NhbnRpYWdvL3Byb2plY3RzL2hvbWV0YXNrcy9hcHAvYXBpL2Rhc2hib2FyZC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZGFzaGJvYXJkL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZGFzaGJvYXJkXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9kYXNoYm9hcmQvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL2hvbWUvc2FudGlhZ28vcHJvamVjdHMvaG9tZXRhc2tzL2FwcC9hcGkvZGFzaGJvYXJkL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvZGFzaGJvYXJkL3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBpZiB3ZSBhcmVuJ3Qgd3JhcHBlZCBieSBiYXNlLXNlcnZlciBoYW5kbGUgaGVyZVxuICAgICAgICBpZiAoIWFjdGl2ZVNwYW4gJiYgIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@libsql/client":
/*!*********************************!*\
  !*** external "@libsql/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = import("@libsql/client");;

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/drizzle-orm","vendor-chunks/openid-client","vendor-chunks/bcryptjs","vendor-chunks/oauth","vendor-chunks/object-hash","vendor-chunks/preact","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/lru-cache","vendor-chunks/cookie","vendor-chunks/@panva","vendor-chunks/oidc-token-hash","vendor-chunks/date-fns"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fdashboard%2Froute&page=%2Fapi%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fdashboard%2Froute.ts&appDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fhome%2Fsantiago%2Fprojects%2Fhometasks&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();